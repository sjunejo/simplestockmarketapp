<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Fri Feb 24 11:05:00 GMT 2012 -->
<TITLE>
ReturnButtonLogic
</TITLE>

<META NAME="date" CONTENT="2012-02-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReturnButtonLogic";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReturnButtonLogic.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../stockmarketapp/staticlogic/URLReader.html" title="class in stockmarketapp.staticlogic"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?stockmarketapp/staticlogic/ReturnButtonLogic.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReturnButtonLogic.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
stockmarketapp.staticlogic</FONT>
<BR>
Class ReturnButtonLogic</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>stockmarketapp.staticlogic.ReturnButtonLogic</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ReturnButtonLogic</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Handles what occurs when the return button is pressed.
 Note that most of the methods in this class are *only* executed if the input is successful, i.e. does not contain any errors.
 The first method deals with what happens when the return button is pressed, including checking for any input.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Sadruddin Junejo</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#ReturnButtonLogic()">ReturnButtonLogic</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#buttonPressed()">buttonPressed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method carries out input validation and executes the rest of the methods in this class if the input tests positive.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#detCurrency(java.lang.String)">detCurrency</A></B>(java.lang.String&nbsp;stockExchange)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines which currency symbol to use according to the stock exchange the specified company
 is listed in.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#mainProcessing(java.lang.String)">mainProcessing</A></B>(java.lang.String&nbsp;inputString)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Runs each of the other methods in this class in turn.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#processData(java.lang.String[])">processData</A></B>(java.lang.String[]&nbsp;strArray)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method takes *one* set of data taken from Yahoo! Quotes, performs the necessary calculations
 and returns what is processed in the form of a string which can be output.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#round(double)">round</A></B>(double&nbsp;dbl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simple rounding method for absolute price change and price change percent numbers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#setupURL(java.lang.String)">setupURL</A></B>(java.lang.String&nbsp;str)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the URL that is used to obtain data from Yahoo! quotes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../stockmarketapp/staticlogic/ReturnButtonLogic.html#splitter(java.lang.String)">splitter</A></B>(java.lang.String&nbsp;str)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Splitting algorithm that takes into account commas in between quotes, for example retaining 
 the comma in "Canon, Inc America"
 Works as follows: the data for each company is initially a string consisting of individual pieces of data 
 separated by commas.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReturnButtonLogic()"><!-- --></A><H3>
ReturnButtonLogic</H3>
<PRE>
public <B>ReturnButtonLogic</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="buttonPressed()"><!-- --></A><H3>
buttonPressed</H3>
<PRE>
public static void <B>buttonPressed</B>()</PRE>
<DL>
<DD>This method carries out input validation and executes the rest of the methods in this class if the input tests positive.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="mainProcessing(java.lang.String)"><!-- --></A><H3>
mainProcessing</H3>
<PRE>
static java.lang.String <B>mainProcessing</B>(java.lang.String&nbsp;inputString)
                                throws java.io.IOException</PRE>
<DL>
<DD>Runs each of the other methods in this class in turn. In order, the steps are as follows:
 (1) Converts user input to a URL (using this class's setupURL method) and obtains data from Yahoo Quotes using this URL.
           Accomplished via the URLReader.readURL() method.
 (2) Splits the output into an array with each row corresponding to data for a specific company
 (3) Splits each individual row into columns. The data then forms a 2-dimensional array, 
           with rows corresponding to company data and columns corresponding to the type of data.
           This is accomplished using the splitter() method.
 (4) For each company's set of data, performs necessary calculations for price change and determines 
     the currency of the stock.
           Then combines the data into a string and concatenates it to a large string (processedDataString) that contains the whole
     output.
           This is accomplished using the processData() method found in this class.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inputString</CODE> - the string that is input using the keyboard
<DT><B>Returns:</B><DD>a large string containing the processed data. Uses HTML for presentation purposes.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - in case URLReader fails</DL>
</DD>
</DL>
<HR>

<A NAME="setupURL(java.lang.String)"><!-- --></A><H3>
setupURL</H3>
<PRE>
static java.lang.String <B>setupURL</B>(java.lang.String&nbsp;str)</PRE>
<DL>
<DD>Creates the URL that is used to obtain data from Yahoo! quotes.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>str</CODE> - The input from the user
<DT><B>Returns:</B><DD>A complete URL</DL>
</DD>
</DL>
<HR>

<A NAME="processData(java.lang.String[])"><!-- --></A><H3>
processData</H3>
<PRE>
static java.lang.String <B>processData</B>(java.lang.String[]&nbsp;strArray)</PRE>
<DL>
<DD>This method takes *one* set of data taken from Yahoo! Quotes, performs the necessary calculations
 and returns what is processed in the form of a string which can be output.
 It returns stock information contained in a string.
 This information includes (1) Company name (2) Price of stock (3) Absolute price change + percentage price change 
 (3) Dividends (5) Market Capitalisation (6) Stock Exchange company is listed in 
 If the data is erroneous (for example, the stock symbol requested was not found in Yahoo! Quotes),
 the method returns a string explaining that the symbol was not found.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>strArray</CODE> - Contains the set of data for one stock symbol.
<DT><B>Returns:</B><DD>a string containing the relevant information. If a stock symbol is not valid, returns "Queried symbol not found".
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="splitter(java.lang.String)"><!-- --></A><H3>
splitter</H3>
<PRE>
static java.lang.String[] <B>splitter</B>(java.lang.String&nbsp;str)</PRE>
<DL>
<DD>Splitting algorithm that takes into account commas in between quotes, for example retaining 
 the comma in "Canon, Inc America"
 Works as follows: the data for each company is initially a string consisting of individual pieces of data 
 separated by commas.
 This method works through the data string starting from the end of the string
 and counts the number of commas.
 Every time it finds a comma, it adds the data right after that comma but before the comma in front.
 By the time seven commas are counted, the method simply adds the rest of the data, which would be the company name.
 This keeps any commas in the company name intact.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>str</CODE> - The string that contains the data retrieved from Yahoo! Quotes
<DT><B>Returns:</B><DD>Each piece of data related to a single company contained in an array</DL>
</DD>
</DL>
<HR>

<A NAME="detCurrency(java.lang.String)"><!-- --></A><H3>
detCurrency</H3>
<PRE>
static java.lang.String <B>detCurrency</B>(java.lang.String&nbsp;stockExchange)</PRE>
<DL>
<DD>This method determines which currency symbol to use according to the stock exchange the specified company
 is listed in.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stockExchange</CODE> - the stock symbol, surrounded by quotes. The quotes are removed within the method.
<DT><B>Returns:</B><DD>the appropriate currency symbol</DL>
</DD>
</DL>
<HR>

<A NAME="round(double)"><!-- --></A><H3>
round</H3>
<PRE>
static double <B>round</B>(double&nbsp;dbl)</PRE>
<DL>
<DD>Simple rounding method for absolute price change and price change percent numbers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dbl</CODE> - the number to be rounded
<DT><B>Returns:</B><DD>the rounded number</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReturnButtonLogic.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../stockmarketapp/staticlogic/URLReader.html" title="class in stockmarketapp.staticlogic"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?stockmarketapp/staticlogic/ReturnButtonLogic.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReturnButtonLogic.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
